<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Arcade ColChart with local fetch</title>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      const url = "./data.json";
      // Promise chain example
      fetch(url)
      .then(response => response.json())
      .then(data => {
        // Load the Visualization API and the corechart package.
        google.charts.load('current', { packages: ['corechart'] });
        // Set a callback to run when the Google Visualization API is loaded.
        google.charts.setOnLoadCallback(() => drawChart(data));
      })
      .catch(error => console.error(error));


      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart(data) {
        // Create the data table.
        var data = new google.visualization.arrayToDataTable(data);
       

        // Set chart options
        var options = { 
            //title: 'How Much Pizza I Ate Last Night', 
            title: 'Money spent on different arcade games',
            titleTextStyle: {
                color: 'white'
            },
            width: 800, 
            height: 300,
            hAxis: { baselineColor: 'white', textStyle: { color: 'white'}},
            vAxis: { textStyle: { color: 'white'}},
            legend: { textStyle:{ color: 'white'},
            // position: 'bottom'
        },
            colors: ['orange', 'purple'],
            backgroundColor: 'gray'
         };

        // Instantiate and draw our chart, passing in some options.
        var chart = new google.visualization.ColumnChart(document.getElementById('chart_div'));
        chart.draw(data, options);
      }
    </script>
  </head>

  <body>
    <!--Div that will hold the pie chart-->
    <div id="chart_div"></div>
  </body>
</html>
